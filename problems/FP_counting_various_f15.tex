\documentclass[problem]{mcs}

\begin{pcomments}
  \pcomment{PS_alphabet}
  \pcomment{from: S08 ps9, revised by ARM 11/14/09}
  \pcomment{soln to 2n-into-pairs part revised 5/12/13 ARM}
  \pcomment{subsumes PS_misc_counting}
\end{pcomments}

\pkeywords{
  binomial_coefficient
  string
  digits
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem starts here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{problem}
Answer the following questions with a number or a simple formula
involving factorials and binomial coefficients.  Briefly explain your answers.

\bparts

%%% PART %%%
\iffalse
\ppart
Albert makes pizzas for the 6.042 staff. He can choose to add a subset of
the following ingredients: cheese, prosciutto, pepperoni, olives, onions,
eggs and eggplant.  However, a pizza cannot contain both prosciutto
and pepperoni, or both olives and onions, or both eggs and eggplant.
How many different pizzas can Albert make?

\begin{solution}
$2 \cdot 3^3$. There are two choice for cheese (add or not).
There are three choices for prosciutto and pepperoni jointly
(none, only prosciutto, or only pepperoni). The similar holds
for the combination of olives and onions, as well as eggs and
eggplant. The total number of different pizzas is then obtained
by a product rule.
\end{solution}
\fi

%%% PART %%%
\iffalse
\ppart According to Merriam-Webster dictionary, the word
\STR{FLIBBERTIGIBBET} means ``a silly flighty person''.
In how many different ways can the letters of this
word be arranged?

\begin{solution}
There are 4 $B$'s, 3 $I$'s, 2 $E$'s, 2 $T$'s, 1 $F$, 1 $L$, 1 $R$, and 1 $G$.
Therefore, by the Bookkeeper Rule, the number of arrangements is:
\[
\frac{15!}{4!\ 3!\ 2!\ 2!\ 1!\ 1!\ 1!\ 1!}
\]
\end{solution}
\fi

%%% PART %%%
\ppart
There is a robot that steps between integer positions in 2-dimensional
space.  Each step of the robot increments one coordinate and leaves the
other one unchanged. Now, the robot got special gear that allows
him to also make a limited number of ``diagonal'' steps, in which both
coordinates are incremented.

%% The question if only the number is asked (without asking for an explicit bijection).
%How many paths can the robot follow going from the origin
%$(0,0)$ to $(M, N)$ if he makes exactly $K$ diagonal steps
%($K \leq \min{M,N}$)?

We would like to calculate the number of paths the robot can follow going
from the origin $(0,0)$ to the position $(M, N)$ if he makes exactly $K$ diagonal
steps.  Assume that $K \leq \min(M,N)$.

\begin{enumerate}[i]
\item
Let 0 correspond to a diagonal step, 1 to a step along the first coordinate,
and 2 to a step along the second coordinate.
Describe a set of strings of 0's, 1's, and 2's that has a bijection
to the set of possible robot paths.
\examspace[1.5in]

\begin{solution}
A set of strings of length $M+N-K$ with exactly
$K$ 0's, $M-K$ 1's and $N-K$ 2's.
The robot will make exactly $K$ diagonal steps, which implies that it will
make exactly $M-K$ steps along the first coordinate, and $N-K$ steps along
the second coordinate.
\end{solution}

\iffalse
\item
Describe the bijection.

\begin{solution}
Let 0 correspond to a diagonal step, 1 to a step along the first coordinate,
and 2 to a step along the second coordinate.
The robot will make exactly $K$ diagonal steps, which implies that it will
make exactly $M-K$ steps along the first coordinate, and $N-K$ steps along
the second coordinate.
Note that different sequences of steps will result in different paths.
Therefore, a string of length $M+N-K$ with $K$ 0's, $M-K$ 1's and
$N-K$ 2's maps to a unique path obtained by taking the steps that correspond
to digits in the string (e.g., from left to right).
\end{solution}
\fi

\item
How many possible paths the robot can take?
\examspace[1in]

\begin{solution}
$\binom{M+N-K}{M-K,N-K,K}$, which is the number of strings of
$K$ 0's, $M-K$ 1's and $N-K$ 2's.
\end{solution}
\end{enumerate}

\iffalse
What is the set of ternary strings (in which each digit is 0, 1, or 2)
such that there is a bijection between this set and the set of
different robot paths from the origin
$(0,0)$ to $(M, N)$ with exactly $K$ diagonal steps?

How many such path are there?

\begin{solution}
%%The solution if only the number is asked (without asking for an explicit bijection).
%\[
%\binom{M+N-K}{M-K,N-K,K}
%\]
%The robot will make exactly $M+N-K$ steps: $K$ diagonal, $M-K$ along
%the first coordinate, and $N-K$ along the second coordinate.

Let 0 correspond to a diagonal step, 1 to a step along the first coordinate,
and 2 to a step along the second coordinate.
The robot will make exactly $M+N-K$ steps: $K$ diagonal, $M-K$ along
the first coordinate, and $N-K$ along the second coordinate.
Therefore there is a bijection between the set of possible paths
and the set of ternary strings of length $M+N-K$ with exactly
$K$ 0's, $M-K$ 1's and $N-K$ 2's.
The number of such strings is $\binom{M+N-K}{M-K,N-K,K}$, which
is also the number of possible paths.
\end{solution}
\fi

%%% PART %%%
\iffalse
\ppart
How many ways are there to order the 26 letters of the alphabet so
that exactly three vowels are preceded by a consonant, while the other
two vowels are preceded by a vowel?

\begin{solution}
$6 \cdot \binom{21}{3} \cdot 21! \cdot 5!$.
Let $0$'s and $1$'s of a 26-bit binary string represent positions of 21 consonants and 5 vowels.
Starting with 21 $0$'s, there are $\binom{21}{3}$ ways to choose consonant positions that will
precede three vowels. Then, there are 6 ways to place remaining two $1$'s to follow already placed
$1$'s -- $\binom{3}{2}$ if they are places after different existing $1$'s plus $\binom{3}{1}$ if they are
places after the same existing $1$. Finally, for each possible arrangement of positions
of consonants and vowels, there are $21!$ ways to fill-in consonant positions and $5!$ ways
to fill-in vowel positions.
\end{solution}
\fi

\iffalse
\ppart How many ways are there to order the 26 letters of the alphabet so
that there are \emph{at least two} consonants immediately following each
vowel?

\begin{solution}
The pattern of consonants and vowels in any permutation of the
26 letters of the alphabet can be indicated by a binary string with 5
ones indicating where the vowels occur and 21 zeros where the consonants
occur.  Patterns where every vowel has at least two consonants to its
right can be constructed by taking a sequence of 16 zeros and inserting
``10'' to the left of 5 of the 16 zeros.  There are $\binom{16}{5}$ ways to
do this.  For any such pattern, there are $5!$ ways to place the vowels
in the positions where ones occur and $21!$ ways to place the consonants
where the zeroes occur.  Thus, the final answer is:
\[
\binom{16}{5}\cdot 5! \cdot 21!.
\]
\end{solution}
\fi

%%% PART %%%
\iffalse
\ppart Let's find the number of ways to order the 26 letters of the alphabet
so that \emph{the first} and \emph{the last} letter are consonants and there are
\emph{at least two} consonants between each pair of vowels.

\begin{enumerate}[i]
\item
Consider a set $S$ of 26-bit binary strings with 21 0's and 5 1's
that correspond to valid position of consonants and vowels, respectively.
Find a bijection between $S$ and the set $T$ of 16-bit strings with
11 0's and 5 1's.
\examspace[1.5in]

\begin{solution}
Note that each vowel must be preceded and followed by a consonant.
These consonants are unique for each vowel since there are at least two
consonants between vowels.
The mapping from a valid 26-bit string, $s$, to a 16-bit string, $t$ is obtained
by replacing each substring of the form ``010'' by ``1''.
The inverse mapping, which substitutes each ``1'' in with ``010'',
maps $t$ back to $s$. Therefore, the mapping is a bijection.

The same mapping can be defined by removing two 0's between
consecutive 1's as well as a 0 at the beginning and a 0 at the
end of string $s$.
\end{solution}

\item What is the size of $S$?
\examspace[1in]

\begin{solution}
$\binom{16}{5}$. The same a the size of $T$.
\end{solution}

\item What is the mapping between the set $L$ of orders of alphabet
letters that satisfy the given constraint and $S$?
%How many different orders of the 26 alphabet letter map to the
%same element from $S$?
\examspace[1.5in]

\begin{solution}
For each string of 0's and 1's from $S$, there are $21!$ different ways
of replacing 0's with consonants and $5!$ ways of replacing 1's with
vowels. Therefore, $21! \cdot 5!$ different orders of letters map to
a single string from $S$. The mapping is $(21!\ 5!)$-to-$1$.
\end{solution}

\item What is then the size of $L$? You can express your answer in
terms of the answers to the previous parts.
\examspace[1in]

\begin{solution}
$\binom{16}{5} \cdot 21! \cdot 5!$.
The product of the answers to the previous two parts.
\end{solution}
\end{enumerate}
\fi

%%% PART %%%
\iffalse
\ppart
%How many different bipartite graphs are there with $M$ nodes in
%the first set and $N$ nodes in the second set?
What is the set of binary strings such that there is a bijection between
bipartite graphs with $M$ nodes in the first group and $N$ nodes in
the second group and that set?
How many such graphs exist?

\begin{solution}
The set of all binary strings with $MN$-bits.
There are $MN$ possible edges and for each
edge we can choose whether to include it on not.
The number of such graphs is $2^{MN}$. 
\end{solution}
\fi

%%% PART %%%
\ppart
Albert asks Zoran to calculate the number of ways
to split $8N$ students in 6.042 into $N$ teams of $8$ students.
Zoran naively says the answer is $(8N)!$ with the following
justification: for any permutation of students, groups can
be formed by taking the first $8$ students as one group,
the next $8$ students as another group, etc.
Albert responds -- ``That is totally wrong! Your mapping
between permutations of numbers $1,\ldots,8N$ and
splittings into $N$ groups is not a bijection!'' %... er... \underline{\hspace{2cm}}''.

\begin{enumerate}[i]
\iffalse
\item
Help Albert by filling in the missing word:

\begin{solution}
bijection
\end{solution}
\fi

\item
How many times is each distinct %group splitting
%team assignment
splitting into teams
counted by Zoran's solution? Explain.
\examspace[1.5in]

\begin{solution}
$(8!)^N \cdot N!$.
For each permutation of $8$ students within each group,
as well as each permutation of $N$ groups, a different permutation of
$8N$ students is obtained that is mapped to a same splitting into teams. %group splitting.
The total number of such permutations is obtained by the product rule.
\end{solution}

\iffalse
\item
What kind of mapping is it instead?

\begin{solution}
$k$-to-$1$.
\end{solution}
\fi

\item
What is the correct answer to Albert's question? %You can express your answer in
%terms of the answers to the previous parts.
You may express your answer in terms of a number $k$ which
is the answer to the previous part of this problem.

\examspace[1in]

\begin{solution}
$\frac{(8N)!}{k} = \frac{(8N)!}{(8!)^N \cdot N!}$.
\end{solution}
\end{enumerate}

%%% PART %%%
\iffalse
\ppart
Albert asks Zoran to calculate the number of ways
to split $2N$ students in 6.042 into $N$ teams of $2$ students.
Zoran comes up with the following answer:
``There are $\binom{2N}{N}$ ways to select $N$ students
to be in separate teams. Let's enumerate
them with numbers $1,\ldots,N$ in an arbitrary way.
The other $N$ students can join these teams in $N!$ ways.
Therefore, the total number of ways to split students is
$\binom{2N}{N} \cdot N!$.''
Albert responds -- ``That is totally wrong! You
are double counting, or triple counting or ...
counting many times''.

Help Albert find how many times Zoran counts each
distinct splitting into teams. Explain your answer.

\begin{solution}
$2^N$.
Let $\set{x_1, y_1}, \ldots, \set{x_N, y_N}$ be a specific splitting  into teams.
For any selection of $N$ students that contain exactly one students from
each team, there is a single permutation that places the remaining
$N$ elements into their teams. The total number of such selections
is $2^N$, and so each splitting is counted $2^N$ times.
%That are two ways that a pair of students $\set{x,y}$ can be selected
%-- by selecting $x$ among the first $N$ students and then by assigning
%$y$ to $x$ in a permutation, or vice versa, by selecting $y$ among the
%first $N$ students and then by assigning $x$ to $x$ in a permutation
\end{solution}
\fi

\eparts

\end{problem}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem ends here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\endinput
