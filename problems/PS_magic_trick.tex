\documentclass[problem]{mcs}

\begin{pcomments}
  \pcomment{from: S09 ps9}
\end{pcomments}

\pkeywords{
  card magic
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem starts here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\begin{problem}

\newcommand{\pcard}[1]{\,\fbox{\parbox[c][.5in][c]{.3in}{\centering#1}}\,}

The Magician and his Assistant are determined to find a way to make the 
trick work when the audience selects four cards from a 52-card deck and 
the Assistant reveals only three in a way that lets the Magician ``guess'' 
the hidden fourth card.  As shown in the lecture notes this is not possible.  
They decide to change the rules slightly: instead of the Assistant lining 
three cards face-up for the Magician to see, he will line up all four 
cards with one card face down and the other three visible. 

Suppose the audience members had selected the cards $9\heartsuit$,
$10\diamondsuit$, $A\clubsuit$, $5\clubsuit$.  Then Assistant could choose
to arrange the 4 cards in any order so long as one is face down and the
others are visible.  Two possibilities are:
\begin{center}
\pcard{$A\clubsuit$}\pcard{?}\pcard{$10\diamondsuit$}\pcard{$5\clubsuit$}

\pcard{?}\pcard{$5\clubsuit$}\pcard{$9\heartsuit$}\pcard{$10\diamondsuit$}
\end{center}

Prove it is possible for the Assistant to communicate the hidden card to
the Magician in this slightly modified version of the magic trick.

\begin{solution}
We proceed by again modeling the trick as a bipartite matching 
problem.  The vertices $L$ are the collection of all possible sets 
of 4 cards, representing the possible sets of cards selected by the 
audience.  The vertices $R$ are the collection of all possible 
length 4 sequences where the first 3 positions contain distinct cards 
representing the ordering of the visible cards and the 4th position 
is an element of $\set{1,2,3,4}$ denoting the position of the hidden 
card.

There is an edge between $l \in L$ and $r \in R$ if the set of visible 
cards in $r$ is a subset of $l$. 

A matching from $L$ to $R$ would represent a unique way to encode each
set of 4 cards as a sequence of 1 hidden and 3 visible cards.  For each
$l \in L$,
\[
\degr{l} = \binom{4}{3} 3! \cdot 4 = 96
\]
and for each $r \in R$,
\[
\degr{r} = \binom{52-3}{1} = 49.
\]

Therefore the graph is degree constrained and therefore satisfies 
Hall's matching condition.
\end{solution}

\end{problem}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem ends here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\endinput
