\documentclass[problem]{mcs}

\begin{pcomments}
  \pcomment{CP_string_associativity}
  \pcomment{by ARM 2/23/11, proof inserted 3/13/16}
\end{pcomments}

\pkeywords{
  string
  structural_induction
  induction
  concatenation
  associativity
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem starts here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{problem}
Prove by structural induction on the recursive definition of
$\strings{A}$\inbook{ Definition~\bref{recstring_def}} that
concatenation is \emph{associative}:
\begin{equation}\label{strassoc}
(r \cdot s) \cdot t = r \cdot (s \cdot t)
\end{equation}
for all strings $r,s,t \in \strings{A}$.

\begin{solution}
The induction hypothesis is
\[
P(r) \eqdef \forall s,t \in \strings{A}.\, (r \cdot s) \cdot t = r \cdot (s \cdot t).
\]


\inductioncase{Base case}: ($r = \emptystring$).
\begin{align*}
(\emptystring \cdot s) \cdot t
  & = (s \cdot t)
           & \text{$\emptystring$ is a left identity by def~\bref{concat_def} of $\cdot$}\\
  & = \emptystring \cdot (s \cdot t)
           & \text{$\emptystring$ is a left identity}.
\end{align*}

\inductioncase{Constructor case}: ($r = a \cdot u$).
\begin{align*}
(r \cdot s) \cdot t 
   & = ((a \cdot u) \cdot s) \cdot t\\
   & = (a \cdot (u \cdot s)) \cdot t
       & \text{(def of $\cdot$)}\\
   & = (a \cdot ((u \cdot s) \cdot t)
          & \text{(def of $\cdot$)}\\
   & = (a \cdot (u \cdot (s \cdot t))
          & (P(u))\\
   & = (a \cdot u) \cdot (s \cdot t)
          & \text{(def of $\cdot$)}\\
   & = r \cdot (s \cdot t).
\end{align*}

\end{solution}
\end{problem}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem ends here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\endinput
