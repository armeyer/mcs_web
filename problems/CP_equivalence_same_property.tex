\documentclass[problem]{mcs}

\begin{pcomments}
  \pcomment{CP_equivalence_same_property}
  \pcomment{renamed from PS_equivalence_same_property}
  \pcomment{from: digraph notes}
  \pcomment{revised ARM 3/15/12}
\end{pcomments}

\pkeywords{
  binary_relation
  composition
  path_relation
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem starts here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{problem}
For any total function $f:A \to B$ define a relation $\equiv_f$ by the rule:
\begin{equation}\label{equivf}
a \equiv_f a' \qiff f(a) = f(a').
\end{equation}

\bparts

\ppart Observe that $\equiv_f$ is an \idx{equivalence relation} on
$A$.

\begin{solution}
Reflexivity, symmetry, and transitivity of $\equiv_f$ follow
immediately from the reflexivity, symmetry, and transitivity of the
equality relation.
\end{solution}

\ppart Prove that every equivalence relation, $R$, on a set, $A$, is
equal to $\equiv_f$ for the function $f:A \to \power(A)$ defined as
\[
f(a) \eqdef \set{a' \in A \suchthat a\mrel{R}a'}.
\]
That is, $f(a) = R(a)$.

\iffalse
\hint Let $f(a) \eqdef [a]_R$ where $[a]_R$ is the \idx{equivalence
  class}

\footnote{See Definition~\bref{def:equiv_class}.}
of $R$ that contains $a$.
\fi

\begin{solution}
We must show that $f(a) = f(a')$ iff $a \mrel{R} a'$.

So suppose $f(a) = f(a')$, that is $R(a)=R(a')$.  Since $R$ is
reflexive, $a' \in R(a')$.  So $a' \in R(a)$.  By definition, this means
$a \mrel{R} a'$.

Conversely, suppose $a \mrel{R} a'$.  Since $R$ is transitive, it
follows that if $a' \mrel{R} x$, then $a \mrel{R} x$.  By definition
of relational image, this is the same as saying that if $x \in R(a')$,
them $x\in R(a)$.  Hence, $R(a') \subseteq R(a)$.  But since $R$ is
symmetric, we also have $a' \mrel{R} a$, and the same argument implies
that $R(a) \subseteq R(a')$.  So $R(a) = R(a')$.

\iffalse

\begin{align*}
a \mrel{R} b
   & \qiff [a]_R = [b]_R
           & \text{(by def of equivalence class)}\\
   & \qiff f(a) = f(b)
           & \text{(by def $f$)}\\
   & \qiff a \equiv_f b
           & \text{(by def $\equiv_f$)}.
\end{align*}
That is, $R = \equiv_f$.
\fi

\end{solution}

\eparts

\end{problem}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem ends here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\endinput
