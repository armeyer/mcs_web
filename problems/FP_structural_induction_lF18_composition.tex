\documentclass[problem]{mcs}

\begin{pcomments}
  \pcomment{FP_structural_induction_lF18_composition}
  \pcomment{ARM 12/18/11}
\end{pcomments}

\pkeywords{
  structural_induction
  functions
  composition
  complex_number}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem starts here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\providecommand{\LEF}{\ms{LF18}}

\begin{problem}
The \emph{Limited} 18.01 Functions ($\LEF$'s) are defined similarly to
the $\EF$ functions from class problem~\bref{CP_F18_functions}, but
they don't have function composition or inverse as a constructor.
Namely,

\begin{definition*}
$\LEF$ is the set of functions of one complex variable defined
  recursively as follows:

\textbf{Base cases:}
\begin{itemize}
\item The identity function, $\ide(z) \eqdef z$ for $z \in
  \complexes$, is an $\LEF$,
\item any constant function is an $\LEF$.
\end{itemize}

\textbf{Constructor cases:}
If $f,g$ are $\LEF$'s, then so are
\begin{enumerate}
\item $f + g$, $fg$, and $2^f$.\label{LEF+*}
%\item the inverse function $f^{(-1)}$,\label{L:inversefunc}
%\item the composition $f \compose g$.\label{cmp}
\end{enumerate}
\end{definition*}

Prove by structural induction that $\LEF$ is closed under composition.
That is, using the induction hypothesis,
\[
P(f) \eqdef \forall g \in \LEF.\, f \compose g \in \LEF,
\]
prove that $P(f)$ holds for all $f \in \LEF$.  Make sure to indicate
explicitly
\begin{itemize}
\item each of the base cases, and
\item each of the constructor cases.
\end{itemize}

%\hint $(h \compose f)^{(-1)} = f^{(-1)} \compose h^{(-1)}$

\examspace[4in]
\begin{solution}

\begin{proof}
  \inductioncase{base cases}: We must show $P(\ide_\reals)$ and
  $P(\text{constant-function})$.  But this follows immediately from
  the fact that $g \compose \ide_\reals = g$ and the composition of
  $g$ with a the constant function is a constant function.
  
  \inductioncase{constructor cases}: Given $e, f \in \LEF$, we may assume by
  structural induction that $P(e)$ and $P(f)$ both hold, and must prove
  $P(h)$ where

\emph{case} $h= e \text{@} f$ where $\text{@} = +$ or $\cdot$: In this
case,
\[
h \compose g = (e \compose g) \text{@} (f \compose g)
\]
and since $(g \compose e), (g \compose f) \in \LEF$ by hypothesis, so is their
$\text{@}$ by the constructor rule~\eqref{LEF+*}.  This proves $P(h)$ in this
case.

\emph{case} $h = 2^f$.  This follows similarly since $2^f \compose g =
2^{f \compose g}$.

This completes all the constructor cases, and so $\forall f \in
\LEF.\, P(f)$ follows by structural induction.

\end{proof}

\end{solution}

\end{problem}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem ends here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\endinput
