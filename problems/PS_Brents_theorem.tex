\documentclass[problem]{mcs}

\begin{pcomments}
  \pcomment{PS_brents_theorem}
  \pcomment{from: F06 pset5Back.tex, maybe same as F04 pset5}
  \pcomment{major revision by ARM 10/3/09}
\end{pcomments}

\pkeywords{
  partial_orders
  chains
  antichain
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem starts here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{problem}
  We consider a finite strict partial order where each element in the
  domain represents a task to be completed.

\bparts
\iffalse

\ppart Give a small example of a strict partial order with more than one
minimum time schedule.

\begin{solution}
\TBA{revise to p.o. instead of DAG}

$V= \set{1,2,3}, E= \set{\diredge{1}{2}}$.  There are two minimum time
schedules: $\set{\set{1,3}\set{2}}$ and $\set{\set{1}\set{2,3}}$.

\end{solution}
\fi

\ppart Explain why any schedule that requires only $p$ processors to
complete $n$ tasks must take time at least $\ceil{n/p}$.

\begin{solution}
At most $p$ tasks can be completed at any step in a schedule, so The
total number of tasks that can be completedin $t$ parallel steps is
$tp$.  So to complete all the tasks requires $tp \geq n$, which
implies.  $t \geq \ceil{n/p}$  
\end{solution}

\ppart\label{timeD} Let $D_{n,t}$ be the strict partial order with $n$
elements that consists of a chain of $t-1$ elements, with the largest
element in the chain being a prerequisite of all the remaining elements as
in the following figure:

\mfigure{!}{2.5in}{pset5-hasse}

What is the minimum time schedule for $D_{n,t}$?  Explain why it is
unique.  How many processors does it require?

\begin{solution}
There's no choice but to schedule each of the $t-1$ vertices on
the path one at a time in order.  A minimum time schedule then does all
the remaining $n-(t-1)$ vertices at the $t$th time interval.  The number
of processors required is therefore $n-t+1$.  
\end{solution}

\ppart Write a simple formula, $M(n,t,p)$, for the minimum time of a
$p$-processor schedule to complete $D_{n,t}$.

\begin{solution}
As in part~\eqref{timeD}, there's no choice but to schedule each
of the $t-1$ vertices on the path one at a time in order.  A minimum time
schedule then does all the remaining $n-(t-1)$ vertices $p$ at a time, for
a total time of
\begin{equation}\label{tnp}
M(n,t,p) \eqdef (t-1) + \ceil{\frac{n-(t-1)}{p}}.
\end{equation}

\end{solution}

\ppart Show that \emph{every} DAG with $n$ vertices and maximum chain
size, $t$, has a $p$-processor schedule that runs in time $M(n,t,p)$.

\begin{solution}

\begin{proof}
Define the \term*{height} of a task to be the length of the longest chain
among its prerequisites.  Start off by scheduling as many tasks as
possible at time 1, namely, the smaller of $p$ and the number of height
zero tasks.  At each successive time $i$ for $1 < i <t$, schedule the
smaller of $p$ and the number of unscheduled tasks of height less than
$i$, with lower height tasks scheduled before higher height tasks.

Since at least one task will be scheduled at each time from 1 to $t-1$,

\TBA{there are ...}

%Ugly, cumbersome propf from F06 was cut by ARM 10/3/09 \fi

\end{proof}

\end{solution}

\eparts

\end{problem}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem ends here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\endinput
