\documentclass[problem]{mcs}

\begin{pcomments}
  \pcomment{FP_sampling_concepts}
  \pcomment{similar to TP_sampling_perturbed, FP_random_sampling}
  \pcomment{from: F09.final}
\end{pcomments}

\pkeywords{
  random_variable
  independence
  sampling
  confidence
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem starts here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{problem}

  Yesterday, the programmers at a local company wrote a large program.  To
  estimate the fraction, $b$, of lines of code in this program that are
  buggy, the QA team will take a small sample of lines chosen randomly and
  independently (so it is possible, though unlikely, that the same line of
  code might be chosen more than once).  For each line chosen, they can
  run tests that determine whether that line of code is buggy, after which
  they will use the fraction of buggy lines in their sample as their
  estimate of the fraction $b$.

  The company statistician can use estimates of a binomial distribution to
  calculate a value, $s$, for a number of lines of code to sample which
  ensures that with 97\% confidence, the fraction of buggy lines in the
  sample will be within 0.006 of the actual fraction, $b$, of buggy lines
  in the program.

  Mathematically, the \emph{program} is an actual outcome that already
  happened.  The \emph{sample} is a random variable defined by the
  process for randomly choosing $s$ lines from the program.  The
  justification for the statistician's confidence depends on some
  properties of the program and how the sample of $s$ lines of code
  from the program are chosen.  These properties are described in some
  of the statements below.  Indicate which of these statements are
  true, and explain your answers.

\begin{enumerate}

\item The probability that the ninth line of code in the
\emph{program} is buggy is $b$.

\examspace[0.15in]
\begin{solution}
False.

The program has already been written, so there's nothing probabilistic
about the buggyness of the ninth (or any other) line of the program:
either it is or it isn't buggy, though we don't know which.  You could
argue that this means it is buggy with probability zero or one, but in
any case, it certainly isn't $b$.
\end{solution}

\item The probability that the ninth line of code chosen for the
  \emph{sample} is defective, is $b$.

\examspace[0.15in]

\begin{solution} True.

The ninth line sampled is equally likely to be any line of the
program, so the probability it is buggy is the same as the fraction, $b$,
of buggy lines in the program.
\end{solution}

\item All lines of code in the program are equally likely to be the
third line chosen in the \emph{sample}.

\examspace[0.15in]
\begin{solution}
True.

 The meaning of ``random choices of lines from the program'' is
  precisely that at each of the $s$ choices in the sample, in particular
  at the third choice, each line in the program is equally likely to be
  chosen.
\end{solution}

\item Given that the first line chosen for the \emph{sample} is buggy,
the probability that the second line chosen will also be buggy is greater
than~$b$.

\examspace[0.15in]
\begin{solution}
False.

  The meaning of ``\emph{independent} random choices of lines from
  the program'' is precisely that at each of the $s$ choices in the
  sample, in particular at the second choice, each line in the program is
  equally likely to be chosen, independent of what the first or any other
  choice happened to be.
\end{solution}

\item  Given that the last line in the \emph{program} is buggy, the
  probability that the next-to-last line in the program will also be
  buggy is greater than~$b$.

\examspace[0.15in]
\begin{solution}
False.

  As noted above, it's zero or one.
\end{solution}

\item  The expectation of the indicator variable for the last line in
  the \emph{sample} being \text{buggy} is~$b$.

\examspace[0.15in]
\begin{solution}
True.

  The expectation of the indicator variable is the same as the probability
  that it is 1, namely, it is the probability that the $s$th line chosen
  is buggy, which is $b$, by the reasoning above.
\end{solution}


\item Given that the first two lines of code selected in the
  \emph{sample} are the same kind of statement ---they might both be
  assignment statements, or both be conditional statements, or both
  loop statements,\dots ---the probability that the first line is
  buggy may be greater than $b$.

\examspace[0.15in]

\begin{solution}
True.

  We don't know how prone to bugginess different kinds of statements
  may be.  It could be for example, that conditionals are more prone
  to bugginess than other kinds of statements, and that there are more
  conditional lines than any other kind of line in the program.  Then
  given that two randomly chosen lines in the sample are the same
  kind, they are more likely to be conditionals, which makes them more
  prone to bugginess.  That is, the conditional probability that they
  will be buggy would be greater than $b$.
\end{solution}

\item There is zero probability that all the lines in the
\emph{sample} will be different.

\examspace[0.15in]

\begin{solution}
False.

  We know the length, $r$, of the program is larger than the ``small''
  sample size, $s$, in which case the probability that all the lines in
  the sample are different is
  \[
  \frac{r}{r}\cdot \frac{r-1}{r}\cdot \frac{r-2}{r} \cdots \frac{r-(s-1)}{r}
  = \frac{r!}{(r-s)!\, r^s} > 0.
  \]

  Of course it would be true by the Pigeonhole Principle if $s>r$.
\end{solution}

\end{enumerate}
\end{problem}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem ends here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\endinput
