\documentclass[problem]{mcs}

\begin{pcomments}
  \pcomment{CP_totient_for_pq}
  \pcomment{virtually the same as proof of Lemma {phi_pq} in book}
\end{pcomments}

\pkeywords{
  number_theory
  modular_arithmetic
  Euler_function
  phi_function
  primes
  relatively_prime
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem starts here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{problem}
Let $a$ and $b$ be relatively prime positive integers.

\bparts

\ppart\label{divbya} How many integers in the interval $[0, ab)$ are divisible by
  $a$?

\begin{solution}
Every $a$th number is divisible by $a$, so there are $ab/a= b$
integers in $[0, ab)$ that are divisible by $a$.
\end{solution}

\ppart\label{divbyaandb} How many integers in the interval $[0, ab)$ are divisible by
both $a$ and $b$? 

\begin{solution}
Only one number: since $a$ and~$b$ are relatively prime, the only
number in~$[0, ab)$ that is a multiple of both $a$ and~$b$ is 0.
\end{solution}

\ppart\label{0abaorb} How many integers in the interval $[0, ab)$ are
  divisible by either $a$ or $b$?

\begin{solution}
\[
a+b -1.
\]
By part~\eqref{divbya}, the interval contains $b$ numbers that are
divisible by $a$, and, symmetrically, $a$ numbers divisible by $b$.
By part~\eqref{divbyaandb}, these two sets of numbers have only one
element in common, so the total is $a+b-1$.
\end{solution}

\ppart\label{notrelpq} Now suppose $p\neq q$ are both primes.  How
many integers in the interval $[0, pq)$ are \emph{not} relatively
  prime to $pq$?  Observe that a different answer is required if $p$
  and $q$ were merely relatively prime numbers $a$ and $b$ as in
  part~\eqref{0abaorb}.
\begin{solution}
\[
p+q -1.
\]

Since $p$ and $q$ are prime, any number that is \emph{not} relatively
prime to $pq$ must a multiple of~$p$ or a multiple of~$q$.  By
part~\eqref{notrelpq}, among the $pq$ numbers in $[0,pq)$, there are
  $p+q -1$ that are multiples or $p$ or $q$.

This fails for the relatively prime numbers $a \eqdef 2, b \eqdef 9$,
for example, because 3 is not relatively prime to $b$ but is not a
multiple of $b$.  In particular, there are 12 numbers in $[0,2\cdot
  3^2)$ that are not relatively prime to $2\cdot 3^2$, rather than
  $a+b-1 = 10$.
\end{solution}

\ppart Conclude that
\[
 \phi(pq) = (p - 1) (q - 1).
\]

\begin{solution}
By definition, $\phi(pq)$ is the number of integers in $[0,pq)$ that
are relatively prime to $pq$, which is the same as the total number of
integers in the interval minus the number that are \emph{not}
relatively prime to $pq$.  By
part~\eqref{notrelpq}, this is
\[
pq - (p+q-1) = (p - 1) (q - 1).
\]
\end{solution}

\eparts
\end{problem}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem ends here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\endinput
