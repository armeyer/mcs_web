\documentclass[problem]{mcs}

\begin{pcomments}
\pcomment{MQ_sets_to_membership}
\pcomment{Created by Joliat and Kazerani; variant of CP_proving_basic_set_id, 2/27/11}
\pcomment{revised by ARM, 3/1/11}
\end{pcomments}

\pkeywords{
  logic
  set_theory
  identity
  propositional
  chain_of_iff
  difference
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem starts here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%\newcommand{\paren}[1]{\paren{#1}}
%\newcommand{\brack}[1]{\paren{#1}}

\begin{problem}

Set equalities such as the one below can be proved with a chain of
\textit{iff}s starting with ``$x \in $ left-hand-set'' and ending with ``$x
\in$ right-hand-set,'' as done in class and the text.  A key step in
such a proof involves invoking a propositional equivalence.  State a
propositional equivalence that would do the job for this set equality:

\[
\setcomp{A-B} =
\paren{\setcomp{A} - \setcomp{C}} \union
\paren{B \intersect C}    \union
\paren{\paren{\setcomp{A} \union B} \intersect \setcomp{C}}
\]
Do not simplify or prove the propositional equivalence you obtain.\\\\\\
For example, to prove $A \union (B \intersect A) = A$, we would have the following ``iff chain'':
\begin{align*}
x \in A \union (B \intersect A)
& \qiff x \in A \QOR x \in (B \intersect A)\\
& \qiff x \in A \QOR (x \in B \QAND x \in A)\\
& \qiff x \in A,
\end{align*}
where the last line follows since $P \QOR (Q \QAND P)$ is equivalent
to $P$.

  \iffalse

\textit{\textbf{Example.}}  Proving the set equality
\[ \setcomp{A\union B} = \setcomp{A}\intersect \setcomp{B}\]
would involve invoking the propositional equivalence
\[ \QNOT\paren{P \QOR Q} \QIFF \paren{\bar{P} \QAND \bar{Q}} \]


One approach involves recasting this set equality as a propositional
formula that must be true for all possible values of a test element,
$x$.  Write this formula, but do not simplify it.\\\\ Your formula
must contain only propositional variables and their negations,
parentheses, and operators such as $\QNOT$, $\QOR$, $\QAND$, and
$\QIFF$.\\\\ \textit{Hint:} You may find it useful to define three
propositions describing the membership of $x$ in each of the sets $A$,
$B$, and $C$:
\begin{eqnarray*}
P & \eqdef & x\in A\\
Q & \eqdef & x\in B\\
R & \eqdef & x\in C\\
\end{eqnarray*}
\fi

\begin{solution}

The stated set equality holds iff membership in $\setcomp{A-B}$ implies and is
implied by membership in
$\paren{\setcomp{A}-\setcomp{C}}\union\paren{B\intersect C}\union\paren{\paren{\setcomp{A}\union B}\intersect\setcomp{C}}$.  That is, the set equality
holds iff, for all $x$,
\[
x \in \setcomp{A-B} \qiff
x \in \paren{\setcomp{A}-\setcomp{C}} \union \paren{B\intersect C} \union
      \paren{\paren{\setcomp{A}\union B}\intersect\setcomp{C}}.
\]
Define three propositions describing the membership of $x$ in each of
the sets $A$, $B$, and $C$:
\begin{eqnarray*}
P & \eqdef & x\in A\\
Q & \eqdef & x\in B\\
R & \eqdef & x\in C\\
\end{eqnarray*}
Now, express membership in $\setcomp{A-B}$ in terms of $P$, $Q$, and $R$:
\begin{align*}
\lefteqn{x \in \setcomp{A-B}}\\
 & \qiff \QNOT\paren{x \in \paren{A\intersect\setcomp{B}}}\\
 & \qiff \QNOT\paren{x \in A \QAND x \in \setcomp{B}}\\
 & \qiff \QNOT\paren{x \in A \QAND \QNOT\paren{x \in B}}\\
 & \qiff \QNOT\paren{P \QAND \QNOT\paren{Q}}
\end{align*}
Then express membership in
\[
\paren{\setcomp{A} - \setcomp{C}} \union \paren{B \intersect C} \union
\paren{\paren{\setcomp{A}\union B} \intersect \setcomp{C}}
\]
in terms of $P$, $Q$, and $R$:
\begin{align*}
\lefteqn{x \in \paren{\setcomp{A}-\setcomp{C}}\union\paren{B\intersect C}\union\paren{\paren{\setcomp{A}\union B}\intersect\setcomp{C}}}\\
 & \qiff x \in \paren{\setcomp{A}-\setcomp{C}} \QOR x \in \paren{B\intersect C} \QOR x \in \paren{\paren{\setcomp{A}\union B}\intersect\setcomp{C}}\\
 & \qiff x \in \paren{\setcomp{A}\intersect \setcomp{\setcomp{C}}} \QOR x \in \paren{B\intersect C} \QOR \paren{x \in \paren{\setcomp{A}\union B}\QAND x\in \setcomp{C}}\\
 & \qiff x \in \paren{\setcomp{A}\intersect C} \QOR x \in \paren{B\intersect C} \QOR \paren{x \in \paren{\setcomp{A}\union B}\QAND x\in \setcomp{C}}\\
 & \qiff \paren{x \in\setcomp{A}\QAND x\in C} \QOR \paren{x \in B\QAND x\in C} \QOR \paren{\paren{x \in \setcomp{A} \QOR x \in B}\QAND x\in \setcomp{C}}\\
 & \qiff \paren{\QNOT\paren{x \in A} \QAND x\in C} \QOR \paren{x \in B \QAND x \in C} \QOR \paren{\paren{\QNOT\paren{x \in A} \QOR x \in B}\QAND \QNOT\paren{x\in C}}\\
 & \qiff \paren{\bar{P}\QAND R} \QOR \paren{Q\QAND R} \QOR \paren{\paren{\bar{P} \QOR Q}\QAND \bar{R}}
\end{align*}
So the stated set equality holds if and only if the following two
propositional formulas are equivalent
\[
\QNOT\paren{P \QAND \bar{Q}}
\]
and
\[
\paren{\paren{\bar{P} \QAND R} \QOR \paren{Q \QAND R} \QOR
  \paren{\paren{\bar{P} \QOR Q}\QAND \bar{R}}}.
\]

Notice that you were \textbf{not} expected to write out a proof like
this.  We've written this out to remind you how the propositional
equivalence would be used in such a proof.

The point is that there is a clear correspondence between the set
equality and the needed propositional equivalence in such proofs, and
once you've recognized this, you can read off the propositional
equivalence from the set equality without having to go through any
long derivation.

\end{solution}

\end{problem}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem ends here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\endinput
