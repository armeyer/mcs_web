\documentclass[problem]{mcs}

\begin{pcomments}
  \pcomment{CP_nonadjacent_books}
  \pcomment{from: S09.cp9r}
  \pcomment{parts (a) and (b) are unrelated and could be split into 2 independent problems}
\end{pcomments}

\pkeywords{
  counting
  counting_rules
  bijection
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem starts here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{problem}

\bparts

\ppart How many of the billion numbers in the range from 1 to $10^9$
contain the digit~$1$?  (\hint How many don't?)

\begin{solution}
We can count up how many \emph{do not} contain the digit 1 and
subtract.  So (total number) - (number without 1's) $= 10^9 - (9^9 - 1) =
612,579,512$ (the $-1$ is for 0 which is not in our range).
\end{solution}

\ppart There are 20 books arranged in a row on a shelf.  Describe a
bijection between ways of choosing 6 of these books so that no two
adjacent books are selected and $15$-bit strings with exactly 6 ones.

\begin{solution}
A selection of six among twenty books on a shelf corresponds in
  an obvious way to a 20-bit string with exactly six \texttt{1}'s.  For
  example, the 20-bit string with \texttt{1}'s in exactly the 3rd, 4th,
  5th, 10th, 19th and 20th positions corresponds to selecting 3rd, 4th,
  5th, 10th, 19th and 20th books on the shelf.

  So the problem reduces to finding a bijection between 20-bit strings
  with six \emph{nonadjacent} \texttt{1}'s and 15-bit strings with six
  \texttt{1}'s.

  But in a string, $s$, with six nonadjacent \texttt{1}'s, all but the
  last \texttt{1} must have a \texttt{0} to its right.  So we can map $s$
  to a string with six \texttt{1}'s and five fewer \texttt{0}'s by erasing
  the \texttt{0}'s immediately to the right of each of the first five
  \texttt{1}'s.  For example, erasing the underlined \texttt{0}'s in the
  20-bit string $\mathtt{0001 \underline{0} 1\underline{0} 01
    \underline{0}1 \underline{0}00001 \underline{0}10}$ yields the 15-bit
  string $\mathtt{000110110000110}$.

  This map is a bijection because given any 15-bit string with six
  \texttt{1}'s, there is a unique 20-bit string with nonadjacent
  \texttt{1}'s that maps to it, namely, the string obtained by replacing
  each of the first five \texttt{1}'s in the 15-bit string by a
  \texttt{10}.
\end{solution}

\iffalse
There is a bijection from
  15-bit sequences with exactly six 1's to valid book selections: given
  such a sequence, map each zero to a non-chosen book, each of the first
  five 1's to a chosen book followed by a non-chosen book, and the last 1
  to a chosen book.  For example, here is a configuration of books and the
  corresponding binary sequence:
%
\fboxsep=0pt
\fboxrule=1pt
\definecolor{lightgray}{gray}{0.8}
\newsavebox{\selected}
\newsavebox{\unselected}
\savebox{\selected}
    {\fcolorbox{black}{lightgray}{\rule{15pt}{0pt}\rule{0pt}{40pt}}}
\savebox{\unselected}
    {\fcolorbox{black}{white}{\rule{15pt}{0pt}\rule{0pt}{40pt}}}
\newcommand{\sbk}{\usebox{\selected}}
\newcommand{\ubk}{\usebox{\unselected}}
%
\[
\overbrace{\sbk\ubk}^{1}\overbrace{\ubk}^{0}\overbrace{\ubk}^{0}\overbrace{\sbk\ubk}^{1}\overbrace{\sbk\ubk}^{1}\overbrace{\ubk}^{0}\overbrace{\ubk}^{0}\overbra%
%
Selected books are darkened.  Notice that the first fives ones are
mapped to a chosen book \emph{and} a non-chosen book in order to
ensure that the binary sequence maps to a valid selection of books.

\fi

\eparts

\end{problem}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem ends here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
