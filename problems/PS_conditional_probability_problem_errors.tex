\documentclass[problem]{mcs}

\begin{pcomments}
  \pcomment{PS_conditional_probability_problem_errors}
  \pcomment{from: S09.ps11}
\end{pcomments}

\pkeywords{
  conditional_probability
  independence
  Bayes
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem starts here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{problem}
  There is a subject---naturally not \emph{Math for Computer
    Science}---in which $10 \%$ of the assigned problems contain
  errors.  If you ask a Teaching Assistant (TA) whether a problem has
  an error, then they will answer correctly $80\%$ of the time,
  regardless of whether or not a problem has an error.  If you ask a
  lecturer, he will identify whether or not there is an error with
  only $75\%$ accuracy.

  We formulate this as an experiment of choosing one problem randomly and
  asking a particular TA and Lecturer about it.  Define the following
  events:
  \begin{align*}
    E & ::=  [\mbox{the problem has an error}],\\
    T & ::=  [\mbox{the TA says the problem has an error}],\\
    L & ::=  [\mbox{the lecturer says the problem has an error}].
  \end{align*}

  \bparts

\ppart Translate the description above into a precise set of equations
involving conditional probabilities among the events $E$, $T$, and $L$.

\begin{solution}
The assumptions above tell us:
    \begin{align*}
      \pr{E}        & =  \frac{10}{100} = \frac{1}{10},\\
      \prcond{T}{E} & =  \prcond{\setcomp{T}}{\setcomp{E}} = \frac{80}{100} = \frac{4}{5},\\
      \prcond{L}{E} & =  \prcond{\setcomp{L}}{\setcomp{E}} = \frac{75}{100} = \frac{3}{4},
    \end{align*}

    Also, $T$ and $L$ are independent given $E$, and given $\setcomp{E}$:
    \begin{align*}
      \prcond{T \intersect L}{E} & = \prcond{T}{E} \prcond{L}{E}\\
      \prcond{T \intersect L}{\setcomp{E}} & = \prcond{T}{\setcomp{E}} \prcond{L}{\setcomp{E}}
    \end{align*}
    Note that while we know that $T$ and $L$ are independent \emph{given} $E$
    or \emph{given} $\setcomp{E}$, they are not independent by themselves, see
    part~\eqref{TL}.
\end{solution}

  \ppart Suppose you have doubts about a problem and ask a TA about
  it, and they tell you that the problem is correct.  To double-check,
  you ask a lecturer, who says that the problem has an error.
  Assuming that the correctness of the lecturers' answer and the
    TA's answer are independent of each other, regardless of whether
    there is an error\footnote{This assumption is questionable: by
    and large, we would expect the lecturer and the TA's to spot the
    same glaring errors and to be fooled by the same subtle ones.},
    what is the probability that there is an error in the problem?

\begin{solution}
We want to calculate
    \[
    \prcond{E}{\setcomp{T} \intersect L}.
    \]

    From the definition of conditional probability (this is known as
    \emph{Bayes' rule}):
    \begin{equation}\label{eq:B2}
      \prcond{E}{\setcomp{T} \intersect L} = \pr{E}
      \frac{\prcond{\setcomp{T} \intersect L}{E}}
      {\pr{\setcomp{T} \intersect L}}.
    \end{equation}

    By the independence assumptions, we have:
    \begin{align*}
      \prcond{\setcomp{T} \intersect L}{E} & = \prcond{\setcomp{T}}{E} \prcond{L}{E}
      = \frac{1}{5}\frac{3}{4}  = \frac{3}{20},\\
      \prcond{\setcomp{T} \intersect L}{\setcomp{E}} & =
      \prcond{\setcomp{T}}{\setcomp{E}} \prcond{L}{\setcomp{E}}
      = \frac{4}{5} \cdot \frac{1}{4} = \frac{1}{5},\\
      \pr{\setcomp{T} \intersect L} & = \prcond{\setcomp{T} \intersect L}{E}  \pr{E} +
      \prcond{\setcomp{T} \intersect L}{\setcomp{E}} \pr{\setcomp{E}}\\
      & = \frac{3}{20} \cdot \frac{1}{10} + \frac{1}{5} \cdot \frac{9}{10}
      = \frac{39}{200}.
    \end{align*}

    Substituting these values in equation~\eqref{eq:B2}, we get
    \[
    \prcond{E}{\setcomp{T} \intersect L} = \frac{1}{10} \cdot \frac{3/20}{39/200} =
    \frac{1}{13} \approx 0.077.
    \]
    So this contradictory information has decreased the probability of an error
    from $10 \%$ to about $7.7 \%$.

    The calculations here support the common-sense rule that when two
    people make contradictory statements, you should be influenced
    more by the most ``authoritative'' person---the one who is right
    more often.  But note that this does not mean that you should
    \emph{believe} in what the most authoritative person says, since
    the probability of an error remains uncomfortably large.
\end{solution}

  \ppart\label{TL} Is event $T$ independent of event $L$?

\begin{solution}
The answer is no.  Because the TA is usually right, when
    the TA says that the problem has an error, the likelihood that
    there really is an error is increased.  But the lecturer is also
    usually right, so increasing the likelihood of there \emph{being}
    an error also increases the likelihood that the lecturer will
    \emph{report} an error.

    We verify this informal argument by actually calculating the
    probability of each of these events and their conjunction, and
    observing that the probability that the two events occur is
    different from the product of the probabilities.  Let events
    $E,T,L$ be as above.

    \begin{align*}
      \pr{T}
      & =  \pr{T \intersect E} + \pr{T \intersect \setcomp{E}}\\
      & =  \prcond{T}{E} \pr{E}  + \prcond{T}{\setcomp{E}} \pr{\setcomp{E}}\\
      & =  \frac{4}{5} \frac{1}{10} + (1 - \frac{4}{5})
           (1 - \frac{1}{10}) = \frac{13}{50},\\[5pt]
       \pr{L} & =  \pr{L \intersect E} + \pr{L \intersect \setcomp{E}}\\
      & =  \frac{3}{4} \frac{1}{10} + (1 -\frac{3}{4})(1 -
      \frac{1}{10}) = \frac{3}{10},\\[5pt]
      \pr{L \intersect T} 
      & =  \pr{L \intersect T \intersect E} + \pr{L \intersect T \intersect \setcomp{E}}\\
      & =  \prcond{L \intersect T}{E} \pr{E}
          + \prcond{L \intersect T}{\setcomp E} \pr{\setcomp E}\\
      & =  \prcond{L}{E}      \prcond{T}{E}       \pr{E} +
      \prcond{L}{\setcomp E} \prcond{T}{\setcomp{E}} \pr{\setcomp E}\\
      & =  \frac{3}{4} \cdot \frac{4}{5} \cdot \frac{1}{10}
      + (1 - \frac{3}{4}) (1 - \frac{4}{5})
         \cdot (1 - \frac{1}{10}) = \frac{105}{1000} = 0.105,
    \end{align*}
    which is higher than
    \[
    \pr{L}\pr{T} = \frac{3}{10} \cdot \frac{13}{50} = .078.
    \]
\end{solution}

  \eparts
\end{problem}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem ends here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\endinput
