\documentclass[problem]{mcs}

\begin{pcomments}
  \pcomment{MQ_counting_paths_with_obstacles}
\end{pcomments}

\pkeywords{
  inclusion-exclusion
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem starts here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{problem}
A robot on a point in the 3-D integer lattice can move a unit distance
in one direction at a time.  That is, from position $(x,y,z)$, it can
move to either $(x+1,y,z)$, $(x,y+1,z)$, or $(x,y,z+1)$.  For any two
points, $P$ and $Q$, in space, let $n(P,Q)$ denote the number of
distinct paths the spacecraft can follow to go from $P$ to $Q$.

Let
\[
A=(0, 10, 20),  B = (30, 50, 70), C = (80,90,100), D=(200,300,400).
\]

\begin{problemparts}

\problempart Express $n(A,B)$ as a \textbf{single multinomial
  coefficient}.

\examspace[1in]

\begin{solution}
\[
n(A,B)=\binom{120}{30,40,50}\ .
\]

A path from $A$ to $B$ consists of $30-0 = 10$ steps in the $x$-direction,
$50-10 = 40$ steps in the $y$-direction, and $70-20=50$ steps in the
$z$-direction, in any order.  The number of such paths is the same as
the number of arrangements of the letters of a word with 10 $x$'s, 40
$y$'s and 50 $z$'s, which, by the Bookkeeper Rule, is given by the
above multinomial coefficient.

\iffalse
Because each of the spacecraft's permissible atomic movements involves
incrementing precisely one of its three position coordinates, it is
possible for it to move from $P$ to $Q$ iff $P \leq Q$ coordinatewise.

So, number the spacecraft's atomic movements:
$1,2,\ldots,(10-0)+(40-10)+(90-20)$.  Partition the set
$T=\set{1,2,\ldots,(10-0)+(40-10)+(90-20)}$ into three sets,
$T_x$, $T_y$, and $T_z$, such that $\abs{T_x}=10-0$,
$\abs{T_y}=40-10$, and $\abs{T_z}=90-20$.  $T_x$ then specifies
which atomic movements are along the first dimension, $T_y$ does the
same for the second dimension, and $T_z$ for the third.  Each distinct
partition corresponds to a single permissible path from $P$ to $Q$,
and each permissible path from $P$ to $Q$ corresponds to a single
partition.  So the number of permissible paths from $P$ to $Q$ is just
the number of distinct partitions -- that is, the number of
$(10-0,40-10,90-20)$-splits of the
$\paren{(10-0)+(40-10)+(90-20)}$-element set $T$.  And of
course this number is just:

\[
n(P,Q)=\binom{(10-0)+(40-10)+(90-20)}{10-0,40-10,90-20}
\]

Alternatively, consider a bijection between the set of possible paths
from $P$ to $Q$ and the set of sequences of length
$(10-0)+(40-10)+(90-20)$ that contain $(10-0)$ $1$s,
$(40-10)$ $2$s, and $(90-20)$ $3$s.  The $k$th term of each
sequence specifies the dimension associated with the $k$th atomic
movement in the corresponding path.  The Bookkeeper Rule then leads
directly to the expression for $n(P,Q)$.
\fi

\end{solution}
\eparts

Answer the following questions with arithmetic expressions involving
terms $n(P,Q)$ for $P,Q \in \set{A,B,C,D}$.  Do not use numbers.

\bparts

\problempart  How many paths from $A$ to $C$ go through $B$?

\examspace[1in]

\begin{solution}
$n(A,B)\cdot n(B,C)$.

Any path from $A$ to $C$ that goes through $B$ consists of an arbitrary
path from $A$ to $B$ followed by one from $B$ to $C$.
\end{solution}

\ppart How many paths from $B$ to $D$ do \emph{not} go through $C$?

\begin{solution}
$n(B,D) - n(B,C)\cdot n(C,D)$

This is simply the number of paths from $B$ to $D$ minus the number
that \emph{do} go through $C$.

\end{solution}

\examspace[1in]

\ppart How many paths from $A$ to $D$ go through \textbf{neither}
$B$ \textbf{nor} $C$?

\examspace[1in]

\begin{solution}
\[
n(A,D) - n(A,B)n(B,D) - n(A,C)n(C,D) + n(A,B)n(B,C)n(C,D)
\]

By Inclusion-Exclusion, paths from $A$ to $D$ that go through at least
one of $B$ or $C$ equals the number of paths that go through $B$, plus the
number through $C$, minus the number that go through both, namely,
\begin{equation}\label{nABnBDnAC}
n(A,B)n(B,D) - n(A,C)n(C,D) + n(A,B)n(B,C)n(C,D)\ .
\end{equation}
The number that go through neither of $B$ and $C$ is the total number
from $A$ to $D$ minus~\eqref{nABnBDnAC}.
\end{solution}

\end{problemparts}

\end{problem}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem ends here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\endinput
