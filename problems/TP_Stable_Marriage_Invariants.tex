\documentclass[problem]{mcs}

\begin{pcomments}
  \pcomment{TP_Stable_Marriage_Invariants}
  \pcomment{Converted from
  ./00Convert/probs/practice6/stable-marriage-invariants.scm by
  scmtotex and drewe on Thu 28 Jul 2011 01:05:16 PM EDT}
  \pcomment{similar to TP_mating_ritual_invariants}
\end{pcomments}

\begin{problem}
We are interested in invariants of the Mating
Ritual~\bref{stablemarriagesec} for finding stable marriages.  Let
Angelina and Jen be two of the girls, and Keith and Tom be two of the
boys.

Which of the following predicates are invariants of the Mating Ritual
no matter what the preferences are among the boys and girls?

\iffalse
(Remember
that a predicate that is always false is an invariant---check the
definition of invariant to see why.)\fi

\bparts

\ppart Angelina is crossed off Tom's list and she has a suitor that
she prefers to Tom.

\begin{solution}
Invariant: This is the basic invariant used to verify the Ritual.
\end{solution}

\ppart Tom is serenading Jen.

\begin{solution}
Not invariant: If Tom serenades Jen and gets rejected by her,
he will stop serenading her.
\end{solution}

\ppart Tom is not serenading Jen.

\begin{solution}
Not invariant: Tom might serenade Angelina, get rejected by
her, and then serenade Jen next.
\end{solution}

\ppart Tom's list of girls to serenade is empty.

\begin{solution}
Invariant: No girl will ever get added to Tom's list, so once his list
is empty, it stays empty.  If we have at least as many girls as boys,
Tom's list will never be empty, since the Ritual guarantees he will be
married in the end.  That is, this predicate is an invariant because
it is always false.  But it would still be an invariant even if we ran
the Mating Ritual with more boys than girls, in which case Tom's list
might become empty, but then would stay that way.
\end{solution}

\ppart
 All the boys have the same number of girls left uncrossed in their lists.

\begin{solution}
 Not invariant: Suppose all the boys like Angelina best.  The she will
 reject all but her favorite, say it's Tom, on the first day. Now, on
 the second day, Tom's list will be one longer than all the other
 boys' lists.
\end{solution}

\ppart Jen is crossed off Keith's list.

\begin{solution}
Invariant: Again, once Keith crosses a girl off his list, he will
never un-cross her.

It's worth noting that this means there is \emph{no} set of stable
marriages in which Jen is married to Keith.  How is that?  Jen will
only reject Keith if and when she has a suitor she prefers to him. The
Mating Ritual (with boys serenading girls) yields girl-pessimal
marriages, so if Jen rejects Keith during the Mating Ritual, then in
\emph{every} stable set of marriages, Jen will wind up with someone
she prefers to Keith, and Keith will wind up with someone he likes
less than he likes Jen.
\end{solution}

\ppart Jen is crossed off Keith's list and Keith prefers Jen to anyone
he is serenading.

\begin{solution}
Invariant: Keith crosses off girls in order of preference, so if Jen
is crossed off, Keith likes her better than anybody that's left.
\end{solution}

\ppart Jen is the only girl on Keith's list.

\begin{solution}
Invariant: No girls get added to a list, so if Jen is the only girl on
Keith's list, she must be the girl he marries at the end.
\end{solution}

\eparts

\end{problem}

\endinput
