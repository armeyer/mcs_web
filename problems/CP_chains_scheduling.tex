\documentclass[problem]{mcs}

\begin{pcomments}
  \pcomment{CP_chains_scheduling}
  \pcomment{CP version of FP_chains_scheduling}
  \pcomment{overlaps PS_Brents_theorem}
  \pcomment{from S02.final, F03.final}
\end{pcomments}

\pkeywords{
 chain
 antichain
 topological
 schedule
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem starts here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{problem}

Sauron finds that conquering Middle Earth breaks down into a bunch of
tasks.  Each task can be completed by a horrible creature called a
\emph{Ringwraith} in exactly one week.  Sauron realizes the
prerequisite structure among the tasks defines a DAG.  He has $n$
tasks in his DAG, with a maximum length chain of $t$ tasks.

\bparts
\iffalse

\ppart  What should vertices represent?  When should
there be a directed edge between two vertices?

\examspace[1.0in]

\begin{solution}
Each vertex corresponds to a task.  There is a
directed edge from vertex $a$ to vertex $b$ if task $a$ must precede
task $b$.
\end{solution}
\fi

\ppart Sauron is trying to describe various features of his scheduling
problem using standard terminology.  For each feature below, indicate
the number of the corresponding term.

\begin{center}
\textbf{Standard Terminology}\\
\begin{tabular}{rlrl}
1. & Transitive closure &
2. & Topological sort \\
3. & Chain &
4. & Antichain \\
5. & Size of the largest antichain &
6. & Size of the smallest antichain \\
7. & Length of the longest chain &
8. & Length of the shortest chain
\end{tabular}
\end{center}

%\examspace[0.2in]

\begin{tabular}{rll}
1. & \parbox[t]{5in}{A set of tasks that can be worked on simultaneously.}\\
2. & \parbox[t]{5in}{A possible order in which all the tasks could be
  completed, if only one Ringwraith were available.}\\
3. & \parbox[t]{5in}{The minimum number of weeks required to complete
  all tasks, if an unlimited number of Ringwraiths were available.}
\end{tabular}

\begin{solution}
4. Antichain; 2. Topological Sort; 7.  Length of longest chain
\end{solution}

\iffalse

\ppart Write a simple formula involving $n$ and $t$ for the minimum
possible number of weeks it could take Sauron to conquer Middle Earth.
(Do not make any additional assumptions about the relative sizes of
$n$, $t$ besides $t \leq n$.)

\begin{center}
\exambox{1.0in}{0.3in}{0.3in}
\end{center}
\examspace[0.5in]

\begin{solution}
At least
\[
\max\paren{t, \ceil{\frac{n}{c}}}
\]
weeks are necessary.  The maximum length chain size, $t$, is an
absolute lower bound on the time to finish all the tasks.  But the
number of tasks per week is at most $c$, so $n/c$ is another lower
bound.

\TBA{can't have a larger lower bound that always applies because \dots}
\end{solution}
\fi

\ppart If Sauron is lucky, he will be able to get away with a small
crew of Ringwraiths.  Write a simple formula involving $n$ and $t$ for
the smallest number of Ringwraiths that could possibly be able to
 complete all $n$ tasks in $t$ weeks.  (Do not make any additional
assumptions about the relative sizes of $n$ and $t$ besides $t \leq
n$.)  Given any $n$ and $t$, describe a DAG that can be completed in $t$
weeks using this number of Ringwraiths.

%\begin{center}
%\exambox{1.0in}{0.3in}{0.3in}
%\end{center}
\examspace[0.5in]

\begin{solution}
\[
\ceil{\frac{n}{t}}
\]

Each of the $n$ tasks must be completed in one of the $t$ weeks.
Thus, by the pigeonhole principle, at least $\ceil{n/t}$ must be
completed in some week requiring at least that many Ringwraiths.

This bound can't be made larger, since a partial order with a single
length $t$ chain and the other $n-t$ tasks with no prerequisites
can be completed in this little time.

\end{solution}

\ppart On the other hand, if Sauron is unlucky, he may need a large
crew of Ringwraiths in order to conquer Middle Earth in $t$ weeks.
Write a simple formula involving $n$ and $t$ for the largest number of
Ringwraiths that Sauron would ever need in order to be sure of
completing all $n$ tasks in $t$ weeks ---no matter how unlucky he was.
Given any $n$ and $t$, describe a DAG that can be completed in $t$
weeks and requires this number of Ringwraiths.

%\begin{center}
%\exambox{1.0in}{0.3in}{0.3in}
%\end{center}
\examspace[0.5in]

\begin{solution}
Up to $n - t + 1$ Ringwraiths may be necessary.  This is the
case is, for example, if there is an antichain of $n - t + 1$ tasks
that cannot be started until a chain of $t - 1$ tasks is completed,
as in the following figure:
\begin{center}
\includegraphics[height=2.5in]{pset5-hasse}
\end{center}

Again, this bound is the best possible.  If more than $n - t + 1$
tasks are completed in one week, then there must be a week when no
tasks are completed.  If this is the case, then all the tasks can be
completed in fewer than $t$ weeks, contradicting the assumption.
\end{solution}

\eparts

\end{problem}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem ends here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\endinput
 
