\documentclass[problem]{mcs}

\begin{pcomments}
  \pcomment{FP_toy_button_counting}
  \pcomment{verbatim from: F04 Final P5 with minor syntax edits}
\end{pcomments}

\pkeywords{
  combinatorics
  counting
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem starts here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{problem}
  
An electronic toy displays a $4 \times 4$ grid of colored squares.  At
all times, four are red, four are green, four are blue, and four are
yellow.  For example, here is one possible configuration:
%
\begin{center}
\begin{picture}(140,130)(-30,-40)
% \put(-30,-40){\dashbox(140,130){}} % bounding box
\put(40,25){\oval(140,130)}
\multiput(0,0)(20,0){5}{\line(0,1){80}}
\multiput(0,0)(0,20){5}{\line(1,0){80}}
\multiput(0,-20)(20,0){5}{\circle{16}}
\put(0,-20){\makebox(0,0){1}}
\put(20,-20){\makebox(0,0){2}}
\put(40,-20){\makebox(0,0){3}}
\put(60,-20){\makebox(0,0){4}}
\put(80,-20){\makebox(0,0){5}}
{\Large
\put(10,10){\makebox(0,0){B}}
\put(10,30){\makebox(0,0){B}}
\put(10,50){\makebox(0,0){Y}}
\put(10,70){\makebox(0,0){R}}
\put(30,10){\makebox(0,0){G}}
\put(30,30){\makebox(0,0){R}}
\put(30,50){\makebox(0,0){B}}
\put(30,70){\makebox(0,0){B}}
\put(50,10){\makebox(0,0){Y}}
\put(50,30){\makebox(0,0){R}}
\put(50,50){\makebox(0,0){G}}
\put(50,70){\makebox(0,0){Y}}
\put(70,10){\makebox(0,0){Y}}
\put(70,30){\makebox(0,0){G}}
\put(70,50){\makebox(0,0){G}}
\put(70,70){\makebox(0,0){R}}
}
\end{picture}
\end{center}
%
For parts \eqref{config_count} and \eqref{button_count} below, you need not simplify your answers.

\bparts

\ppart \label{config_count} 
How many such configurations are possible?

\examspace[2in]

\begin{solution}
  This is equal to the number of sequences
  containing 4 R's, 4 G's, 4 B's, and 4 Y's, which is:
  %
  \[
  \frac{16!}{(4!)^4}
  \]
\end{solution}

\ppart \label{button_count}
Below the display, there are five buttons numbered 1, 2, 3, 4,
and 5.  The player may press a sequence of buttons; however, the same
button can not be pressed twice in a row.  How many different
sequences of $n$ button-presses are possible?

\examspace[2in]

\begin{solution}
  There are 5 choices for the first button
  press and 4 for each subsequence press.  Therefore, the number of
  different sequences of $n$ button presses is $5 \cdot 4^{n-1}$.
\end{solution}

\ppart
Each button press scrambles the colored squares in a
complicated, but nonrandom way.  Prove that there exist two
\textit{different} sequences of 32 button presses that both produce
the \textit{same} configuration, if the puzzle is initially in the
state shown above.  (Hint:  $4^{32} = 16^{16} > 16!$)

\examspace[5in]

\begin{solution}
  We use the Pigeonhole Principle.  Let $A$ be the set of all
  sequences of 32 button presses, let $B$ be the set of all
  configurations, and let $f : A \to B$ map each sequence of button
  presses to the configuration that results.  Now:
  %
  \[
  \card{A} > 4^{32} > 16! > \card{B}
  \]
  %
  Thus, by the Pigeonhole Principle, $f$ is not injective; that is,
  there exist distinct elements $a_1, a_2 \in A$ such taht $f(a_1) =
  f(a_2)$.  In other words, there are two different sequences of button
  presses that produce the same configuration.
\end{solution}

\eparts

\end{problem}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem ends here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\endinput
