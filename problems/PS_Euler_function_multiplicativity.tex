\documentclass[problem]{mcs}

\begin{pcomments}
  \pcomment{PS_Euler_function_multiplicativity}
  \pcomment{depends on CP_chinese_remainder}
  \pcomment{formerly called PS_distributive_law_for_phi}
  \pcomment{from: S09.ps8m, S08.ps7}
  \pcomment{revised by ARM 2/2/11}
\end{pcomments}

\pkeywords{
  primes
  number_theory
  Eulers_theorem
  modular_arithmetic
  bijections
  mulitplicative
  Euler_function
  phi_function
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem starts here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{problem}
  Suppose $a, b$ are relatively prime integers greater than 1.  In
  this problem you will prove that Euler's function is \term{multiplicative}, namely,
  that
\[
\phi(ab)=\phi(a)\phi(b).
\]
The proof is an easy consequence of the Chinese Remainder Theorem
\inbook{(Problem~\bref{CP_chinese_remainder})}.\iffalse
\inhandout{\footnote{The
    \term{Chinese Remainder Theorem} asserts that if $a, b$ are
    relatively prime and greater than 1, then for all $m,n$, there is
    a \emph{unique} $x \in [0,ab)$ such that
  \begin{align*}
   x &\equiv m \pmod a,\\
   x &\equiv n \pmod b.
  \end{align*}
  A proof appears in Problem~\bref{CP_chinese_remainder}.}}\fi


\bparts

\ppart\label{fbij0ab} Conclude from the Chinese Remainder Theorem that
the function $f: [0,ab) \to [0,a) \cross [0,b)$ defined by
\[
f(x) \eqdef (\rem{x}{a},\rem{x}{b})
\]
is a bijection.

\begin{solution}
By definition, $f$ has the $[= 1\ \text{out}]$, total function property.

The Chinese Remainder Theorem says that the congruences
 \begin{align*}
   x &\equiv m \pmod a,\\
   x &\equiv n \pmod b.
  \end{align*}
  have a solution $x$, which means that $f$ has the $[\ge 1\ \text{in}]$,
  surjective property.  Moreover, the solution is unique up to congruence
  modulo $ab$, which means that all solutions have the same remainder
  modulo $ab$.  So in particular, there is a unique solution $x \in
  [0,ab)$, which means that $f$ has the $[\le 1\ \text{in}]$, injective
  property, and hence $f$ is a bijection, namely, $[= 1\ \text{out}]$ and
  $[= 1\ \text{in}]$.
\end{solution}

\ppart For any positive integer, $k$, let $k^*$ be the integers in
$[1,k)$ that are relatively prime to $k$.  Prove that the function $f$
  from part~\eqref{fbij0ab} also defines a bijection from $(ab)^*$ to
  $a^* \times b^*$.

\begin{solution}
  By Unique Factorization, $x$ is relatively prime to $ab$ iff $x$ is
  relatively prime to $a$ and $x$ is relatively prime to $b$.  But since
  $\gcd(x,a)= \gcd(a, \rem{x}{a})$, it follows that $x$ is relatively
  prime to $a$ iff $\rem{x}{a}$ is relatively prime to $a$, and likewise
  for $b$.  That is,
\[
x \in (ab)^* \qiff f(x) \in a^* \times b^*,
\]
which means that $f$ defines a total surjective function from $(ab)^*$ to
$a^* \times b^*$.  And since $f: [0,ab) \to [0,a) \cross [0,b)$ was
injective, it remains injective when restricted to the domain $(ab)^*$,
which proves that $f$ defines a bijection from $(ab)^*$ to $a^* \times
b^*$.
\end{solution}

\ppart Conclude from the preceding parts of this problem that
\begin{equation}\label{phimult}
\phi(ab)=\phi(a)\phi(b).
\end{equation}

\begin{solution}
The mapping $f$ defines a bijection between $(ab)^*$ and $a^* \cross b^*$.
So
\[
\phi(ab) \eqdef \card{(ab)^*} = \card{a^* \cross b^*} = \card{a^*}\cdot  \card{b^*}
 = \phi(a) \cdot \phi(b).
\]
\end{solution}

\ppart Prove Corollary~\bref{cor:phi}:
for any number~$n>0$, if $p_1$, $p_2$, \dots, $p_j$ are the (distinct)
prime factors of~$n$, then
\begin{equation*}
    \phi(n) = n \paren{1 - \frac{1}{p_1}}
                \paren{1 - \frac{1}{p_2}}
                 \cdots
                \paren{1 - \frac{1}{p_j}}.
 \end{equation*}

\begin{solution}
We know from Theorem~\bref{th:phi} that for all primes, $p$, and $k > 0$,
\[
\phi(p^k) = p^k - p^{k-1} = p^k \paren{1 - \frac{1}{p}}.
\]

\begin{staffnotes}
If need be, give the hint that:
\[
p^k - p^{k-1} = p^k \paren{1 - \frac{1}{p}}.
\]
\end{staffnotes}

So if
\[
n = p_1^{k_1}\cdot p_2^{k_2}\cdots p_j^{k_j}
\]
where all the $k$'s are positive, then repeated applications of~\eqref{phimult} we get
\begin{align*}
\phi(n) & = \phi(p_1^{k_1})\cdot \phi(p_2^{k_2}) \cdots \phi(p_j^{k_j})\\
        & = p_1^{k_1}\paren{1 - \frac{1}{p_1}}
           \cdot p_1^{k_2}\paren{1 - \frac{1}{p_2}}
           \cdots p_1^{k_j}\paren{1 - \frac{1}{p_j}}\\
        & = p_1^{k_1}\cdot p_2^{k_2}\cdots p_j^{k_j} \cdot \paren{1 - \frac{1}{p_1}}
                \paren{1 - \frac{1}{p_2}}
                \cdots
                \paren{1 - \frac{1}{p_j}}\\
        & =  n \paren{1 - \frac{1}{p_1}}
               \paren{1 - \frac{1}{p_2}}
               \cdots
               \paren{1 - \frac{1}{p_j}}.
\end{align*}
\end{solution}
\eparts
\end{problem}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem ends here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\endinput
