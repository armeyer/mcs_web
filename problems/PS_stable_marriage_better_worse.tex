\documentclass[problem]{mcs}

\begin{pcomments}
  \pcomment{PS_stable_marriage_better_worse}
  \pcomment{REVISE in face of MQ_stable_marriage_optimal_pessimal}
  \pcomment{alternative to PS_stable_marriage_better_worse_count,
    maybe harder to follow}
  \pcomment{by ARM 5/3/15}
  \pcomment{based on suggestions of Leonid Levin}
\end{pcomments}

\pkeywords{
 stable_matching
 optimal_spouse
 pessimal
 invariant
}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem starts here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{problem}
Suppose there are two stable sets of marriages\iffalse , a first set
and a second set\fi.  So each man has a first wife and a second wife
(they may be the same), and likewise each woman has a first husband
and a second husband.

Someone in a given marriage is a \emph{winner} when they prefer their
current spouse to their other spouse, and they are a \emph{loser}
when they prefer their other spouse to their current spouse.  (If
someone has the same spouse in both of their marriages, then they will
be neither a winner nor a loser.)

We will show that
\begin{equation}\tag{WL}
\text{In any of the marriages, a man is a winner iff his wife is a
  loser.}
\end{equation}

\begin{staffnotes}
REVISE in light of:

\begin{quote}
These is a easy direct proof: Suppose David is Carol's optimal spouse.
Then in any stable set of marriages in which Carol is not married to
David, Carol will prefer David to her spouse.  So if David is married
to anyone he likes less than Carol, he and Carol are a rogue couple.
To avoid this, Carol must be Ben's pessimal spouse.
\end{quote}
\end{staffnotes}

This will lead to an alternative proof of \inhandout{the
  theorem}\inbook{Theorem~\bref{boyopt}} that when men are married to
their optimal spouses, women must be married to their pessimal
spouses.  This alternative proof does not depend on the Mating
Ritual\inbook{ of Section~\brewf{mating_ritual_sec}}.

\bparts

\ppart\label{2l2w} The left to right direction of~(WL) is
equivalent to saying that there can't be two winners in a marriage.
Explain why this follows directly from the definition of a rogue
couple.

\begin{solution}
If both members of a marriage were winners, then they would, by
definition, be a rogue couple for the other set marriages,
contradicting stability.
\end{solution}

\medskip
\eparts It is slightly trickier to prove conversely that a loser wife
must have a winner husband.

\bparts

\ppart Suppose that there are the same number of husbands who are
first marriage winners as there are wives who are first marriage
losers.  Conclude that if a wife is a first marriage loser, then her
husband is a first marriage winner.

\begin{solution}
By part~\eqref{2l2w}, every man who is a first marriage winner is
married to a loser.  If there are the same number of first marriage
winning men as first marriage losing women, then the only way these
different men could be married to different wives is if every one of
the losing women was married to a winning man.
\end{solution}

\ppart Complete the proof of~(WL) by proving that there are
indeed the same number of first marriage winning men as first marriage
losing women.

\hint First marriage losers are second marriage winners.

\begin{solution}
Part~\eqref{2l2w} implies that every first marriage winning man is
married to a first marriage losing women.  Since bigamy is illegal,
this implies that there must be no more first marriage winning men
than first marriage losing women.

By the same reasoning, there must be no more second marriage winning
women than second marriage losing men.

But second marriage winning women are the same as first marriage
losing women, and second marriage losing men are the same as first
marriage winning men.  Therefore, there are, conversely, no more first
marriage losing women than first marriage winning men.

This implies that there are the same number of first marriage winning
men as first marriage losing women, as claimed.
\end{solution}

\ppart Conclude that in a stable set of marriages, someone is married
to their optimal spouse iff they are pessimal for their spouse.

\begin{editingnotes}
These is a easy direct proof: Suppose David is Carol's optimal spouse.
Then in any stable set of marriages in which Carol is not marriaed to
David, Carol will prefer David to her spouse.  So if David is married
to anyone her likes less than Carol, he and Carol are a rogue couple.
To avoid this, Carol must be Ben's pessimal spouse.
\end{editingnotes}


\begin{solution}
A man is not married to his optimal wife in a stable set of marriages
iff he has a better wife in some second set of stable marriages.
By~(WL), this holds iff his first wife has a worse second
husband, which is true iff he is not his first wife's pessimal
husband.
\end{solution}

\eparts
\end{problem}

\endinput
