\documentclass[problem]{mcs}

\begin{pcomments}
  \pcomment{CP_register_allocation}
  \pcomment{similar to CP_register_allocation}
\end{pcomments}

\pkeywords{
  graph_coloring
  allocation
  register
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem starts here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{problem}
An assignment command such as $w\, :=\, u + v$ sets the value of
variable $w$ to be the sum of the values of $u$ and $v$.\iffalse
During compilation of a program containing such commands, the values
of variables are allocated to be stored in registers.\fi Variable
values can be stored in the same register if they are not needed at
the same time during program execution.  The problem of economically
allocating registers to store variable values corresponds to a graph
coloring problem.

\bparts

\iffalse
\ppart  What do the
vertices of the graph correspond to?  What does an edge between two
vertices mean?  How does a graph coloring relate to register
allocation?
\fi

\ppart Construct the graph corresponding to the register allocation
problem for the following program:
\begin{align*}
\text{Inputs:} &\ u, v \\
w & :=  u + v \\
x & :=  u - v \\
y & :=  w + x \\
z & :=  w - x \\
a & :=  y + z \\
b & :=  y - z \\
\text{Outputs:} &\ y, z, a, b
\end{align*}

\iffalse
\[
\begin{array}{rrrcl}
&& \text{Inputs:} &  & u, v \\
\text{Step } 1. & \hspace{0.5in} & w & := & u + v \\
2. && x & := & u - v \\
3. && y & := & w + x \\
4. && z & := & w - x \\
&& \text{Outputs:} & & y, z
\end{array}
\]
\fi

\examspace[3in]

\begin{solution}
\TBA{sol}
\end{solution}

\ppart Describe a minimal coloring of your graph and its associated
assignment of variables to registers.

\iffalse using as few colors as you can.  Call the computer's
registers $R1$, $R2$, etc. Describe the assignment of variables to
registers implied by your coloring.  How many registers do you
need?\fi

\eparts
\end{problem}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem ends here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\endinput
