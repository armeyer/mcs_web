\documentclass[problem]{mcs}

\begin{pcomments}
  \pcomment{PS_set_union}
  \pcomment{from: F09.ps2, S06.ps1}
  \pcomment{subsumes PS_basic_set_equality}
\end{pcomments}

\pkeywords{
  set_theory
  proof_by_cases
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem starts here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{problem}

Let $A$, $B$, and $C$ be sets.
Prove that:
\begin{equation}\label{ABCA-B}
A \union B \union C = (A - B) \union (B - C) \union (C - A) \union (A \intersect B \intersect C).
\end{equation}
%
\iffalse
You are welcome to use a diagram to aid your own reasoning, but your
proof must be text.
\fi


\hint $P \QOR Q \QOR R$ is equivalent to
\[
(P \QAND \bar{Q}) \QOR (Q \QAND \bar{R}) \QOR (R \QAND \bar{P}) \QOR (P \QAND Q \QAND R).
\]

\begin{solution}

\begin{proof}
We prove that an element, $x$, is a member of the left hand side
of~\eqref{ABCA-B} iff it is a member of the right hand side.

\begin{align*}
\lefteqn{x \in A \union B \union C}\\
 & \qiff (x \in A) \QOR (x \in B) \QOR (x \in C)
           & \text{(by def of $\union$)}\\
& \qiff ((x \in A) \QAND \bar{(x \in B)})\ \QOR\\
& \qquad ((x \in B) \QAND \bar{(x \in C)})\ \QOR\\
& \qquad ((x \in C) \QAND \bar{(x \in A)})\ \QOR \\
& \qquad ((x \in A) \QAND (x \in B) \QAND (x \in C)) & \text{(by the equivalence in the Hint)}\\
& \qiff (x \in A - B) \QOR (x \in B - C) \QOR (x \in C - A)\ \QOR\\
& \qquad (x \in A \intersect B \intersect C) & \text{(by def of $-$, $\intersect$)}\\
& \qiff x \in (A - B) \union (B - C) \union (C - A) \union (A \intersect B \intersect C)
   & \text{(by def of $\union$)}
\end{align*}
\end{proof}

\textbf{Alternative solution by cases:}

  We prove that the left side is contained in the right side, and that the
  right side is contained in the left side.

First, we show that the left side is contained in the right side.  Let $x$
be any element of $A \union B \union C$.  Then $x$ belongs to at least
one of $A$, $B$, and $C$.  We distinguish two cases.
\begin{itemize}
\item $x$ belongs to all three sets: Then $x$ belongs to the
intersection $A\intersect B\intersect C$.

\item $x$ does \emph{not} belong to all three sets: Then at least one
of $A$, $B$, $C$ does not contain $x$.  So overall, at least one set
contains $x$ and at least one set doesn't. We distinguish cases:
\begin{itemize}
\item If $A$ contains $x$, then one of $B$ and $C$ must not contain
it.
\begin{itemize}
\item If $B$ does not contain it, then $x\in A-B$.
\item If $B$ contains it, then $C$ does not, therefore $x\in B-C$.
\end{itemize}

\item If $A$ does \emph{not} contain $x$, then one of $B$ and $C$ must
contain it.

\begin{itemize}
\item If $C$ does, then $x\in C-A$.
\item If $C$ does not contain it, then $B$ does, therefore $x\in B-C$.
\end{itemize}
\end{itemize}
\end{itemize}
In all cases, we end up with $x$ being a member of one of
$A - B$, $B - C$, $C - A$, or $A\intersect B\intersect C$.  Therefore, it belongs
to the right side. Hence, the set on the left is contained in the set
on the right.

Next, we show that the right side is contained in the left.  This is
easier. Let $x$ belong to the right side. Then it belongs to one of $A
- B$, $B - C$, $C - A$, or $A\intersect B\intersect C$.  In the first case, we
clearly know $x\in A$. In the second case, $x\in B$. In the third
case, $x\in C$. In the last case, $x\in A$ again. So, in all cases,
$x$ belongs to one of $A$, $B$, or $C$. So $x$ belongs to the left
side. Therefore, the set on the right is contained in the set on the
left.

Since each set is contained in the other, they are equal.

\end{solution}

\end{problem}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem ends here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\endinput
