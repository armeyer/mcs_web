\documentclass[problem]{mcs}

\begin{pcomments}
\pcomment{CP_probable_satisfiability_nk}
\pcomment{adapted from CP_probable_satisfiability by ARM 12/8/09}

\end{pcomments}

\pkeywords{
  random_variables
  satisfiability
  propositions
  disjunction  
  expectation
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem starts here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\def\clauses{\mathcal{S}}

\begin{problem}
  A \term{literal} is a propositional variable or its negation.  A
  \emph{$k$-clause} is an $\QOR$ of $k$ literals, with no variable
  occurring more than once in the clause.  For example,
\[
P \QOR \bar{Q} \QOR \bar{R} \QOR V,
\]
is a 4-clause, but
\[
\bar{V} \QOR \bar{Q} \QOR \bar{X} \QOR V,
\]
is not, since $V$ appears twice.

Let $\clauses$ be a set of $n$ distinct $k$-clauses involving $v$
variables.  The variables in different $k$-clauses may overlap or be
completely different, so $k \leq v \leq nk$.

A random assignment of true/false values will be made independently to
each of the $v$ variables, with true and false assignments equally likely.
Write formulas in $n$, $k$, and $v$ in answer to the first two parts
below.

\bparts

\ppart[2] What is the probability that the last $k$-clause in $\clauses$
is true under the random assignment?
\begin{center}
\examspace[0.5in]
\exambox{0.5in}{0.5in}{0in}
\end{center}

% \hfill \examrule[1in]

\begin{solution}
A $k$-clause is true unless all $k$ of its literals are
false.  Thus, it is true with probability:
\[
1 - \paren{\frac{1}{2}}^k.
\]
Since variables are assigned truth values independently, neither, $n$, nor
$v$, nor the fact that we're considering the last clause is relevant.
\end{solution}

\ppart[2]\label{partexpectclauses} What is the expected number of true
$k$-clauses in $\clauses$?

\begin{center}
\examspace[0.5in]
\exambox{0.5in}{0.5in}{0in}
\end{center}

%\hfill \examrule[1in]

%\examspace[0.75in]
\begin{solution}
  Let $T_i$ be an indicator for the event that the $i$-th $k$-clause is
  true.  Then the number of true propositions is $\sum_{i=1}^n T_i$, so
  the expected number is 
\begin{equation}\label{expectclauses}
n\expect{T_1} = n\paren{1 - \frac{1}{2^k}} = n - \frac{n}{2^k}.
\end{equation}
\end{solution}

\ppart[3] A set of propositions is \term{satisfiable} iff there is an
assignment to the variables that makes all of the propositions true.  Use
your answer to part~\eqref{partexpectclauses} to prove that if $n < 2^k$,
then $\clauses$ is satisfiable.

\examspace[2in]

\begin{solution}
  For $n <2^k$, the expected number of true clauses given
  in~\eqref{expectclauses} will be $> n-1$.  But a random variable cannot
  always be less than its expectation, so there must be some assignment
  making $> n-1$ of the clauses are true, that is, an assignment for which
  all $n$ of the clauses are true.
\end{solution}

\eparts

\end{problem}

\endinput
